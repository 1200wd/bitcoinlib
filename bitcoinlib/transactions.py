# -*- coding: utf-8 -*-
#
#    bitcoinlib Transactions
#    Â© 2016 December - 1200 Web Development <http://1200wd.com/>
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU Affero General Public License as
#    published by the Free Software Foundation, either version 3 of the
#    License, or (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU Affero General Public License for more details.
#
#    You should have received a copy of the GNU Affero General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#

from bitcoinlib.encoding import change_base
from bitcoinlib.db import *
from bitcoinlib.keys import HDKey
from bitcoinlib.config import networks
from bitcoinlib.services.services import Service
from bitcoinlib.services.bitcoind import BitcoindClient

_logger = logging.getLogger(__name__)


class TransactionError(Exception):
    def __init__(self, msg=''):
        self.msg = msg
        _logger.error(msg)

    def __str__(self):
        return self.msg


def varbyteint_to_int(byteint):
    if not byteint:
        print(byteint)
    ni = byteint[0]
    if ni < 253:
        return ni, 1
    if ni == 253:  # integer of 2 bytes
        size = 3
    elif ni == 254:  # integer of 4 bytes
        size = 5
    else:  # integer of 8 bytes
        size = 9
    return change_base(byteint[1:1+size][::-1], 256, 10), size


class Transaction:

    @staticmethod
    def import_raw(rawtx):
        if isinstance(rawtx, str):
            rawtx = change_base(rawtx, 16, 256)
        elif not isinstance(rawtx, bytes):
            raise TransactionError("Raw Transaction must be of type bytes or str")

        version = rawtx[0:4][::-1]
        n_inputs, size = varbyteint_to_int(rawtx[4:13])
        cursor = 4 + size
        inputs = []
        for i in range(0, n_inputs):
            inp_hash = rawtx[cursor:cursor+32][::-1]
            if not len(inp_hash):
                raise TransactionError("Input transaction hash not found. Probably malformed raw transaction")
            inp_index = rawtx[cursor+32:cursor+36][::-1]
            cursor += 36

            scriptsig_size, size = varbyteint_to_int(rawtx[cursor:cursor+9])
            cursor += size
            scriptsig = rawtx[cursor:cursor+scriptsig_size]
            cursor += scriptsig_size
            sequence_number = change_base(rawtx[cursor:cursor + 4], 256, 16)
            cursor += 4
            inputs.append({
                'prev_hash': change_base(inp_hash, 256, 16),
                'output_index': change_base(inp_index, 256, 10),
                'script_sig': change_base(scriptsig, 256, 16),
                'sequence_number': sequence_number,
            })
        if len(inputs) != n_inputs:
            raise TransactionError("Error parsing inputs. Number of tx specified %d but %d found" % (n_inputs, len(inputs)))
        if not inputs:
            raise TransactionError("Error no inputs found in this transaction")

        outputs = []
        n_outputs, size = varbyteint_to_int(rawtx[cursor:cursor+9])
        cursor += size
        for o in range(0, n_outputs):
            amount = change_base(rawtx[cursor:cursor+8][::-1], 256, 10)
            cursor += 8
            script_size, size = varbyteint_to_int(rawtx[cursor:cursor+9])
            cursor += size
            script = rawtx[cursor:cursor+script_size]
            cursor += script_size
            outputs.append({
                'amount': amount,
                'script': change_base(script, 256, 16),
            })
        if not outputs:
            raise TransactionError("Error no outputs found in this transaction")
        locktime = change_base(rawtx[cursor:cursor+4][::-1], 256, 10)

        return Transaction(inputs, outputs, locktime, version)

    def __init__(self, inputs, outputs, locktime=0, version=b'00000001'):
        self.inputs = inputs
        self.outputs = outputs
        self.version = version
        self.locktime = locktime

    def get(self):
        return {
            'inputs': self.inputs,
            'outputs': self.outputs,
            'locktime': self.locktime,
        }


if __name__ == '__main__':

    from pprint import pprint

    # From http://www.righto.com/2014/02/bitcoins-hard-way-using-raw-bitcoin.html
    r2 = '0100000001552980326afb3552e838ed75cd1db23bcbfa868a34609578ca1ccaa4d3fbc7d3010000008c493046022100e51c0d8c3a1e80763e58ca31a000044e78b404776aadcbc0cdbcf63e7855334c022100929e94c588886a20f97fc876a8edf29f0b5b046b7fc037ca8fe9f3599e7ee9d5014104ee58ff546d92040652920e512dbab45911de4a03da232c3a228964d2ef9ef7ca6670005218e406985bda769b2f8a4f38dd7f45524776ef4fd8344a120d8a0518ffffffff01806d0d00000000001976a9143c1e136fbc9cfabe35d6d5d41474295721d44f9c88ac00000000'

    # Random transaction from block #447706
    r3 ='0100000004be8a976420ef000956142320e79d90dd2ce103dda9cf51efb280468ca7ac121d000000006b483045022100e80841d3a21a12c505e60d2896631edac06e0e0e7359207583cb31dd490a652502204fde02010706097f11acd0547c9dff0399354c065d7e1d1d17eeda031185804c0121029418397b2ad61b6d603fc865eb4ada9c5425952c4dbe948a0e0c75c36d4e740affffffffc4475d1a9a50aae5c608d20c28a1ca78bda39056d22aa3d869aefbdab83aa4b4000000006b483045022100cd986b35450080a2ee9397349d7513cecff5cf56c435cae43d33ca83c69cddb30220259f9460b372025dff475a534c472c3b2b7f558f393aedeb4c2a30fb6156f81c01210316dec74bb3f916cab37a979c076e03b54f347fa5a90bf2fc9f14e435c1a4ecbdffffffffaea58d46919cf6b7641a30a0a027f3318aee9173fc3f8f1f03c39670f7ce5c3a000000006a47304402206b3297db37c68ae172dc0de46cdb165ec79ce491edec7d59ed98c80d82edeffb0220244665fec2da49eae564d4cc78939ae2c04504294bbca76367d2e9ce5802f56d0121035b5ff8a770e99152d210f1d875d0e1c570dc9fbe332eaecfc405254f6df59edcffffffff85778efe6c0347762b404a6b5b00c45e7143861ccb2b4bd7b0927d0db9fee509010000006a473044022045330b90adba441e797350baa8a631c3b0d375598c88d6eaaae74526698a7fdc022066ffb7a61fcd394d8eed953eac5a792eccddb20f7b14f4e8dcbdc4e9207f1d1c0121032ebd92c614095f612a9e0dbcdb0d03e75481f9335c756f17bfc206d0dcddc644ffffffff02ce8fb400000000001976a914377ad7e288e893dc4473aeb28b18b1675067abaf88aca4823e00000000001976a914bfb2eb5487e238c7d34ea12b965ae169fba563ba88ac00000000'

    # From bitcoinlib
    r0 = '01000000' \
         '01' \
         'a3919372c9807d92507289d71bdd38f10682a49c47e50dc0136996b43d8aa54e' \
         '01000000' \
         '6a' \
         '47304402201f6e18f4532e14f328bc820cb78c53c57c91b1da9949fecb8cf42318b791fb38022045e78c9e55df1cf3db74bfd52ff2add2b59ba63e068680f0023e6a80ac9f51f401210239a18d586c34e51238a7c9a27a342abfb35e3e4aa5ac6559889db1dab2816e9dfeffffff023ef59804000000001976a914af8e14a2cecd715c363b3a72b55b59a31e2acac988ac90940d00000000001976a914f0d34949650af161e7cb3f0325a1a8833075165088acb7740f00'

    rc = '010000006482f9a2b7cbbf0802d8b2b8f76683966f8b956ec1428844d0c950c6b91f2044295f0300006b483045022100f8a43d149f6eb45f351752e7120ffd07575e0e9b74edafdd335baf8d33f825fe0220186ab3ea7a1be704c1607975294bf627a8243846203fd7ed19af742d65788ea901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffe84e724b93e961052e024e229c50b213afa8c564aeade8c512ec38a5eee5d998600300006b4830450221008b14c13d3675b1d8d1828e07d8a5af6c2a5e3de7dcb92c0abd17548675fc87ac0220629e0a7c45af43e89147a9f15dd83142a03e8dbf97ef702304364c22c138602b01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd4592310c49159b18aa8d80fa953c181d6b7f145d4279f3cb8e30c5fa9fe605f540200006b483045022100883d9a851480118cfb3aa642ac78c6c229da17e2fe6c37838f194aff56bb98e102201f85830dd44351a3bbc0dc74ce1cff1a6b0400b852b2a30689ff00760a28bf1901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff0fc89f54f1a4b9b6132493088e905c539ca282bc6524a18dfedcea7bfe1d8e947b0200006a473044022036e8798ceeab4d92a205fc36a41e0923de343a80f2d1a2e8c485256718bd0fb70220221a5c816ed8e4f32b0b21151983be5f5a00a3116d9f63cb6bab312b1addff0601210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5d77cd6cb8923d1b610f019c9e80d5c0fb430b10a68221e3026686f9ebff6f7c610300006a4730440220683b8c1b8d1725e831567b98ac988c67d982b02830cccea10e4c9a7015f290bd02205a4056ba323c2be39dd54c067f49646ea3cc3be067c432e0425abdf618572f4a01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff7b3b375fd81f1b8a91afcf80120e803b7c05efe8ed4774cb80ec4a1b3c2410d99d0200006b483045022100f79ed287d534cd18c4ce3317fb8164b58ebd21e5e3c5d064fc6b240860f57a2302203fcca5751345f2f4114013737a34f0e40e5853be15c90df41e2898ef597e827401210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffa4a04b444f16bf5a2f46511a802995a2d9107b507ea70ea1e81d0dcb33599cb4b30200006a473044022044d8a29a05ac6a9a7afb1b61be552ee7e8ea8951a173a90c54a214ad2093911502206f438ed0a0a984d6d8b6b8d742c6c0d7230c61c2821441a68ec0bac7b637f75901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff60bef4c6b90f6124978496548c55a3576e607723120ca597c344de617287ede25b0300006b483045022100e790662d17f38e9e8cfcb5e468d2ac0d2b373be1efcfa3c8bcfe8d0f6025397f0220662674afa2215980b9cd4a31dfe38b45846b2420cd5e926e754bb62e64cc4d3001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd7306be036684c341b3aa1ab5f4e0b04573320492a80c5f4587504faa0c221e05e0200006a4730440220184969dfe7e658802b8017f3d9485379661c32fbd50218edc704f8ad8c4dfda302202ac87644b75701448e7f17de02f9f34766f2acfef183c0ad3bf3f4337183f91c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffb6e5af627f700e39980e852930f106091df7d0f78561e12af2ad0776d7092c30d50300006a4730440220292096ebb613194896229f0e9175d9c5443e17b71c4b83a00061e20d52fc07b202206a1fbb4a98382bb0bfa97eb6ce01278c0b1426294c6de354f78a47e88efd308c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5441e2a9c0747aaaf870a218863d7b1c8732f447d2643b922c9134cec3080432580300006b483045022100c66163a9a043e2786dc097c69c055e8109d89eef565924e668c25e04f8edb168022073fb2c49c1625c5a9c25d0ac16b0882fd6bafc417a6bb34a78fb30ec773deb5701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff37959d457c9174ecf5876250f55313f2ac86ed5100a33b6006f2ca22066dc700650200006b483045022100bc1e517c9eeb7830096526fab9394265f11123f5290931877fdf5fb63996886a02202638619e5111cc70169203a005510fe71aac29e8ee715eca5c67fdce83f1eae101210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff15e1de1527a81b9f75051fe1d37582845be9f5b49e211a4ebf2742385abbad28970300006a473044022052eca264254696b97de0de015e77e32c65a4d2b738b47656a7d819069105c9b902206586c5fc7f8d85f455acfee230b75df5dd862981ebaf97f3574800a50045f80501210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff0b7b0d9447ed98f04adaa3b0165f9a27ed39d557531ee7f2dedb3c8a6725766f5a0300006a47304402204c01b77ee6c683e27cabfa15a38edb0c9bf41316c790b9a507875100d2e245c902201d7cb0860ec073177ce376fb557012ef789b8ebc7a641903f4402aa88da3807101210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff7350f3193787144e153f6f99b1131af37c84841c497f865b92710eaa76c12231820200006b483045022100bd867cc735d0be2b0853be16d92179d758471844c55b110b411085156c465de7022064a03976c25af225242cfdb4cd700d6a185cceed90284888ecca2065f86f738701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd105bfda24a1970c4d2744c3adaa8d19e5bce09335677f90f4cedc96cef201e0d40200006a47304402202628443d3f9690ccb109d9b8e64c50dcebb4bdab3bdecabc277abf46710567b80220058f8451e7a64324b338bc2c5a2eee7fe5672269c7f917fccdcd291555393ad401210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffe5fa638d824562cffe6a2198d2b6703d1f2db43b2517bd999af68f35d7a99c1a580300006a47304402201746965f5400ad9dacf964e23829defe7e68024017e0627192f1977e86ba9b0e022059d7bfbb3419c6210deaabd95df9b47738bba14c86f168692bbf7c9cf91dfb2e01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff16baadb1645b605a64d1c2c1032fc34c2e6e62d59f71bb631c4399d523bf5819540200006a4730440220429cdae8fb76c1b88f2aced6f36a41ed834059d78074d95fddd21b83230946c102204c123c5caa29536b08541d16ebaff70e9ae704bb97ea7d89eb0266dcb9b1863701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff2f861585946e080f061656e380b68d902c445737279561bf7c3101a07da97c768e0300006a47304402207d8787011084048b3113502e045be22e2d7ce88ec0f111f2b107fbadb6f7c37502203775d39b7bed35d26a5e03b64908f9ffc451f5987826e45a276b68221cdb33e601210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffffdff3565df0ced2737c2e38ea779767ad0815a8d489c38ff679ac2aa25eaf6df590300006b483045022100970b9547c59cfe7e49883147f5dd871f7c4e70558ef7c38f355df1f22dcba918022018e02d7ed1237cab2b03066ddc9622717e53d7b0192a918e0e1e41f04715512a01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff4281894ac1a03890f26291b7e8cfdf64c94d03e1753385d1740a275b086f1648120200006a47304402204e91bfab5551643f09a08aae58ceb9218ba60ebc8ff8a273b2ce5f85a282cf4f022064bed091c0662b2a2b5b21f165e4e1abaf4a1d895911ad43427ae63d14089b3f01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff20ed387f71823be9fc236197c0ae48e85fb103ad66868fb74a0a4c3a88b5819d3a0200006a47304402202fa4a21b94706b10b75c06d9fbd163bb911bc33117adda5dafcb7441b702b11602201d7fc326c4e7be4964d79880a06b5e11f1d0f8506c387e2e2dfcc845cb81c49c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff209bf15eb19727b42ffaa55de5c3a92785657dfb814f2ff7dc3ad991590c9b4a590300006b483045022100ae10896836fe50309d104ea6a72b4c7e8ef27560ec561057d0691894bd07587d022070e9cc66abe376da9798981c8bffed4ee851b9634b94fe4ab47468bb98954cca01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff8b8bc241eccc9ad8d155ab8a315f33fce5442df879e1e5bd79c80351e400ade4380200006a47304402203691d10006053d4c4c7d9b99c1e842a826db1def7584e23e1c611b1862f7b57b02207680e67a1f53bc6564f84787d4f90dea71dbaeb9ef5d05cfe0a219b789e7026301210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffa802428777de7341d11a4968ca9774920589796c0106cfa37542ed92646eccf5750200006a473044022074d4f7bc0eaf7ee74a39ff29786397fc66a3942af63224c7d1e9e7c8def34ddb0220683a9d3bbab7cd0d6d14e0dfe72017ec52f56a2c865132c8a57e7492cb74a9b901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffff5f5a98741a07cbf9f75ad4f490b9a8b604d0609b3e480415476fb4aacb789cb580300006a47304402204570818a39d6a9a1048b3df0dc6bf9e68650c526bd758617d45b80b5fc21437002203bd1b8c025706b4aa3fd7c11e1d42815160e692d65c32dfc746382db2cb5ce5d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff1a50ce26716df1da61bc4a468a5bfc32bda77abe3a67b0641623d5eb56942ad4340200006b48304502210087889b6a3e2d963c3a46d98aefb8ff989d084955988c2c67ec0d5654ec0a7467022021c4b3eed53efff37d0bda70c782fe7e9b7987030bbdc038cc44e608e0cf5fa401210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff2a1687d3a7c9923db6da1acc35d3dda0eea35ec3f1aaf2ae6e52447d06d829d6f40300006b483045022100ad3100de70a7114b69ab3c1ea126ad348e74828531710df24317ab50535e0bf902205f0bd6c3d14ea7bd219e890a14b9dd9af68533f544fa2adff34f2b5966f09ccd01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff12429155af944aa3e84cafd7245cb9029d69f0a216cdee9a9a3e1ef70c9fb7945b0300006b4830450221009dfe7db7bdbbbe362830f81a5a623e83cc3f3aec4bfe50a145d610612fdf289f022018db02b82535705e3490106ef786ef0ed9b8a821f4be00bd6b541f2c4762b81e01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5b03b69a71b6679cd3bb024a9868a4a6d57c12e7e51f8da430c42e8d92a8c21b8c0200006b483045022100b468f5bf939ee3d09c257fb87c81acacd7b56cbaef6297a51fbe455c9974acde022065724fe363aa0c26a4eba67eef389139c84822aedac03f3a0ae375bd43b5930901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff04b62ac4874c3f3d486aca5f91493cedbb27e08e4ea8f5bc8972c1be08e88452840300006a47304402207a494c9433345d91f8da8acf71921ab462f8aeee393912287ece43252e556e090220090868fb651a7e92bc4506e4ce987683ad9c0f2c9958fefc0108a08e9508ba2a01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff41210a0a29625e8fcac06a0c02cc9d21066a2124121951a529697f4094895fca570300006a47304402205e06a2bff576bb5a27197bd8b3700ee351d26ab1384691f338b91ba0e592bfc1022054aee4c0abd044cfaaa5346d76c1955700b8816d183b89d3ebae32b189f9730601210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff9309a05298780ef9c92684cecd7c695b0be2a9a7a0a0a3afad9e52bd071ee16d440200006b483045022100f9630136c5d280bc129286e8c07eff2f0c564686d018d64333c8c8a326757a6e02200c5f5307a961589099d88a285eb22ef97d7a9b98c968163e13379a0691a6e71901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff4138f5402914d5fbca306e4b490ef624163003ceaa1b82f170d10952feffeaeaa80200006a4730440220337381706b726c8e85ac9b61ac7e97e059d1078b7b41697283e6216c34353fe30220181805b0818ea056cf494f53a30462c928d675ec83706085f97a337455ed063f01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff3b1123037307b34c9676c5fb605ae326950429d8d64f611df78fb2ccc4d887e1530300006a47304402205f73ccad46a6689306c638a1149df3f9c8bef7dfa9f251b8e6135c6aae20d93b02203bf4b2db4f18a31d3000c728a1aad3cfd167cd131e4222e3eb910f7ecb92796301210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5ea507b5da152ecc429414db875a602ad4219c61e363f91a812d54244fb33c19820200006b483045022100fb3661d6ccb23621bbe594169faefbb03d755be5ec7ff8947fba74d8af1e45e602203e4d653ec3e3aedc53166d67d8014c2c8670ed7c73611251dd883a5d69d1a33c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd33a709606fd16899aa16966c39d1c65f204e79c17425c187157712122df11227a0300006b483045022100e5364351d3f659e5125f62eb1f65c51823b0dd8089c709673745a4ec26f2e696022027ed6d7bf9f29e4b788e1f64929fd37c7ee714bcd4743eebba26425926fce89e01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffaf5e67459dfd589a27b050ed016edcf0941f5178a3c8c8712473b38ccb9c935f5c0300006b483045022100fd79e2ce9e34b7aa92550369ad220cee741437603119513807ce7b3fe5f8d9ec02200622e6db420fdaaa46547d79be8f2fe945ab61be7ded73ec48f604f0994c06ce01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffcd574b42f67bed33ab6698272cd9e926ed5335c0db22f546d391783b91b8e895410200006a47304402203accea287aa8c6cc3595134d1115888552ce5335f2d46d826e2ec0bd10d76fae022049530e116e30be9b2ae9608997bfa041ace38322a8a0ec043a7173352107a58d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff147968ed33ae01fa45c6b4a213d76b3cc45a9ca70f89bc2efbcddf51a39b0879090400006a4730440220795ff966ffc917f0811cae45c2747f28dd10dee660dc213a3ee8e6799c56724202204e730b353983dfc599b45e782855bd51e92f84aadc1f403ab2a0cb2ee075c44d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffac2b0bed81bae12ecfcdb554f7b33dcb563c9f997fc88d8791b2ec4a4b48f222560300006a47304402201d2f3b3ea8c35ca081b285dc8023ba62cb172bc87538ab567de6425c97ac74a202201dbe2ad4d79a3ac133f680ed01eb8f42b1265bc4d117f4e6fee10b1a5a89192f01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffea1eac17943c45b4328678ee82c9e6200aa25da155f07f31ae4e90c05b91063f770200006b483045022100bda16247d5f261a42b04a04a0137cb93ad3dd5763c775d8e6b625d55d5e125540220711c6c58eb684d7ed222119e36d9b8e984b7cc5cfeff65f67ff7a687c256906601210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffba0e7be661dd46efca27d082f360e3e67c4c23cdde75f01a8491ffb68ad8e4c7640200006a47304402200add75f2fdb354aeef32dc0d9a8aebe659051dd3ef9fa5382ded19c7d3b197a10220480ab9fcabae1d30437a9784a02f2b22c8eb2334925f3bedb8b3ce6a7866298001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd768edeb36dbd07cc3a5e3347a38e56e4235bf9250480d33c12c8fb2f454ff87560300006a473044022002ae58dcb7ecc026e993beb8282fc5dfabc9255025720eb98b25d6d1826d742b02202262015929c9cce15bf9dfe1e027385f1b81b7a20e6ebf50a84ae72da7bbbbf201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff09615482729bc8790471a5e27bcd0ccf0ee0d69d1e69bd12bd80cb3fbb95bcc5440200006b48304502210084c394a470c46fb801bd303fac1f6cb80323e27c1318cae88340cc6b4a2bac5402205dd0dd0dddebe746913038f6944393d10b323521cfcb1fe6ec2c01ba9676738901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff6f9b82e9a6f0b9bc8c045c897110e7306994b4c05bd87c41544a02d5e675a9b7690300006b483045022100d0463f3f8a3cf123351bdb4cc26b957b8506666298e49fb6b3dd52333a29c67d022070a0d07863071abd2a4ff54c225188d7845435e234ccb405ab284f577c6fad1f01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffe76ee599e4e90d505c970b2c241b0fffbaa05aee11bc88ea4d5bcbd7c4dc0d09550300006b483045022100b32db8c8e7fc7e1edb2151714915ddbade8ca8a8b2dbef5ddcf9a7425b729eee02204a37b39ea448e918639656bf4a2f1e4153e282d007e17fd091d85863c11f4f0901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffcf1bc745c3173ce20f7711accb400bfb202fa9cef2ff19c3a3b7bd2753025c638b0200006a4730440220474eabbdcad749fd76288709b84f2a4ccfc9f9b64aec71b2d9b1894f0db2785c02203671e7a3e761e55cbad308f08797af30cae96fb923376c0ee1646b83613f935b01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff9dd4934a3becf02ab368982c47ea29deafb05a1559ceeb9e410e1ae588e39612230300006b48304502210098f5ba5e641dfc35331221c13d67eaf28fd395e061271cf8dd0b68f4603e2e6e02203808f0b1bce10d300a8c529905a46afa19c630014324ce415933b6267e321b0801210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff3b1f0fade07e96ed07d7a51e241824acfb23958b2984d97211f2f6e1320e65aa570300006b483045022100d69c83889cccfeb2fa87c7800c0fdb1e85549a6ba4f1784b1e5b8bcb177b2b15022015603d745d90c179a9f87742296ab8b25a4fe7b9a22af46cf70856e73b3f708201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff28a6253d1a6785b77b31c2aea91799ddb2ada88ddf850074cd6b43672cd3cc32a80300006a473044022037be9b3e1e47bc7d123b34f991303e9cb20c9f747c7bae7d41fd64440c7a7a5302202b6638f83c27dca03cadf2f2db3ff1ba2f61accddda73270ae1fa4c8c998232201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffffff5a9a69aeb367e3bcd5fe0e49541899bd6b20b822e8ef3cab72278b5474dd4be0300006a47304402201d0d2c1615122ffbb81252fa153e37e83d633c60ee4f672b20f4b0ab679bd1a002205c4e5b35887a1fbb7b433e842b4889296085146e79c04d64a0f25daf0b62d82e01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff081f918bcb2f4af2b1de273dbf4e16e198a18cad16eca195e6e216bae25b07f8520300006b483045022100a14d6fe4603c4b2faf6ff79bf69aee6147cf9afb47f903234b4c9a045adcb60f02206aed88603838ebc71f0d8d48903b5cc0d502ffef978ba2c0a523dc195d606c2c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff1440d3c94daf02061926c00179713a54d3b86220058a174b9ad57d945f4235af120200006a473044022073c61c023c35448adc4ec5c0601cad25dac438c3f08001dd42d167b4a9cb05320220799adede0a313002f2dca3ff49f8ea4c475c0085950de309cb54c15eb950830a01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff3ed6f710db05dcbf52bfaedcf113dad11b1940d1d619d4a566cfbc9f5cb63693360200006a4730440220361ebd5ad4150e4f5375f152c18ed1e3a02243203ea3c62bf0e5a976576bc82102201439c2d3f92028d946551004c744d5468de2ea3d5c3284baff1aef2b9890fc4701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffaadf37d83229b7a81ac64b2b144571fe37baf9e3dbba4f53cb3c1810a82aca445a0300006b483045022100acced46362cf3ad0d6a225dce388a1aa5974d955dc7cbc3eccdf2bbf7e441480022055964ef6ad7a6abd6318dcc53c9f895e64dc071dcb3e5665d8c95d36ee44f00301210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff58aa68af23ff1f02acb2f37fb8b43019b9e9a001bbb503b832ec8433e8a39e29a80300006b483045022100aff940074137298c52a18d2dbc424e3f36351d46e2dc6996909baa03ef3716f002202854bd7bc74e96a9392a289c01fe87343fe834ef902f7b6a69b1feee5fe7630c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff3c8e8857fdec95e9cb4f95607623a501852d0f8453f3464b287e1bc997ac07e63b0200006b483045022100ea8464ee5ff04b92d3269497921497218463d87979c253fcd0c4d99b069fe781022051ee888386b98d01a665e91808b4040bfacae2f44dab68a43735b44509d750f401210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff6cab2695f220572157d54425a838fd29ade1a739cf156a590f68f84447cbc175540300006b483045022100bf916ce97963a3b1d50cc6ad52c9ed754c73b646b8f55b500d769fc1724bff840220588324f64bc49eee86d2c88e36f1c850451eb6f1d3405113ee0b0a483a55c17201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffb8821d35a45651824a0249c7886ab85a08ffb8af1a346761331a7a01987e8be8440300006b4830450221008835aeff6c8c003ae99f272f975eeeecdd6b6c59e9999dd1a223df0ed7c14faf0220039e788dcbb95c4f560cf3e50b20e649d84fad827b845e88a1ae7bb32eb4473701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffffb9591560259d2bdd8bd2a8fd1e5526f2594a73247c6ecd86ce30d9002665b365d0200006b4830450221008f98f5fecc5f8de5cb588cf57260ba621fa3d099c5293e72b4840f4578132eec02200fb5dac3e785539368b76366c9147cca9e1cb0ba35f040faa7c7d5840b42519401210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff8c39743b741196af2ee07531e965e91561e0ebeebdd49e4e78038b59e5f245d25a0300006a47304402201be88979e22bfef0461dd73322f928a6cd2a99f3b14b0209fa0841e9d3b4d60e022039befd006cc195c8ba316ce07b1f497f23251069d3f46458924cf0187e5602fd01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff01ceefac82e7d8cdd22947ff8b934162c7738f6befd3d611835f77c8fc144df1ef0200006a47304402207a85636cbce9ad2ca1a5e5a5eb08a1de4f6afa9b434a25192f4f2305a0c40cf002205469c3350e72732de385d0a9d61e84ff9c091ef946a7d1004e5de945efa5771c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffff3d98f954eb720e70a809c58e66d25b7999ac2e558fc59cbda048b10995e923fb40200006a473044022070d0d98366cc1fe6c8b55da21336c36ae66d3c2ef4c62ad1144407975aed460a0220647640049023397abb4963649828e7c6f3878ed7a723cacbaaa641a2025c3c7e01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff2790079f7964a8652b376f82032135e792e04df37bfa93e4c0749b38ea77bcb9570300006b4830450221009b65417e137c99bb91ba1e63d7842041018e903c965dbd48d975f5ce66fc911f02204dbd4f65617d3cc1cd3338b0024538bb8365d64b8e11c22cb006ad00b058266f01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff86df5e2f87b562f8534f13dfc7d695a772dd1b00aded39f172e0c03595876b8b710200006b483045022100cd004590eb104f5f6bafaaf2664be8640f551c6627d6f95726b8a4f84a1ca0d2022045a0185a21e286068fa1592283a5ef1eca46da2e74addbce95f8fdee5574321001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff349e054c18e28f4bfde65c93d13f6075c2cf8f67c99640dbdbb3c4630846077e450300006b483045022100fbcc3c981f84ed067af820655d26ef38da4a2049662fd9abfa4398d4d4aa3b4a02202bc479816cfd4f49bb8f54974be1076907ba59359d6af8bad3f32c3702e6a78d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff1b805de4877a0ab24d9879a1a4083651f2292e88dc024f8209ef2ffe3c185ddb5b0300006a473044022057c19c40684639b5e8fb9d137141e2dc2a447b9ed650ffc019c65e7291376fc0022014e9dbe7c274818dd2e03d24317eafa72fcd11f7f508eb181368f4f3cef459a201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff6e1010e0b0abef81b0e7de14f59afa699e8b964d5ac4b5a076bfb60269a1222d630300006b483045022100937af83466807a871451aa8a84b8012b891f22c30ddb10949e244a3b1ace0d8d02207011ebe8f549d2e22b32146afcd9e8f1918f3c013c34a142592e4cf352d91f7801210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffac0b7c628bbc6d1170fd2c29e1155ad7485b6b0dc2d018600b3f286ae4dddd0e320200006a473044022079dee374da5e37209d2dfee84eecef979b398850cb0bc6f8ebf7e53a467f127602203f5ed120ecb7d57063afc18d9a459d0e435f26a10f8cd1a9d0a0f84709f5c33901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff101c4bf58bca2f4ee67cb28da9d9c053d297a03248c38fc1abc6af378a13d8755a0300006a47304402206c0632bc591564da5f8fdea8929d6f71dcc3687f79beeaa95e19859b7d56966102205afcd2d9747ac7103ed20455b1680c1135d0af45b89b61ba9e0d67b4296829ae01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff1d5d3e7dc7e2e8b15e08824c0cbc0b534c8a66c76069dc2f6add4f7c3b1faaee340200006a47304402205f69b5a4107406a39a5c1af677a78eac2e526e03eeb29b78d38bf12b3fdae71d02200bb39dcd49c9eb3e33f1815cf3a886a545a7c45a20bd3e2a254c866374debdff01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffff77ac9d26b82918bde4a56511a650b48cc6b92002f64331c706b1c9a15bc2f82e0200006a47304402207c6bebcfbe664401fd919a60aa403fb4c9af2e2fb59e9ab0487bca5cda800fa30220441ae03cad704eb9ff35d4c8fe159edc37e208385b5f9403b5a0b7fd4891387101210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff1ec2b306e96a20abcfbf86135126bd2869448511068fd960c00532cd454bc8fa5b0300006b483045022100b573f98d56dea9ff993c7514abc4e012e2bcec48509059ed1625c74ba2590dab02201aa6da4e6f89c225a86d25acc7ee2bcacab41de7a2eb542214926eb8ffd940da01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff3dfc9570760346efc82f47eb04f3a60d6bd5de34cf445e3cdd8ac6b36ce6d891ef0300006a47304402200c3933787e500b5f39ad773f3cbf2ccb558d6a51c7d05f4805ac92ed9f89e54b02205b8d1d8024c7a9063494a28d0e324708933810d3f89d3be0fe5cecdd3556bf3b01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff045893d70dd4ad7dfe86fd9090f638d5a1d0b33b2b17f94f6073b8fb8fc002f9910300006b48304502210092c04ffa2f364e9061e1203d5201168a2abee08e311af011b18fa1a7519f60a902200ad329f0406ac5b937aa337ea08a8bf912a5c32f3767404aad2211b2413db62001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffff7b660f2e90fc4e0fbf7c8bfc7269a7dbf9707a99586513a9f83e7f0c05f2f735e0300006a473044022006b79a3c5ec98b1d7cf2706f70830f6ab892642224c27229d5794a0816b0c7310220366305523d80e38166592ed53abe453a0cda5d6483b6b868fc0806823a23a88b01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff561d932cca6328602efa8be8525878a097d4f57cf1c449a94488f6c42e828ad2410200006b483045022100bd08de468c5afa3377ddae78f4b76fc05bd7154820e84719a746a0cdef68b192022013c4ea5576c3ade5faa53cf646912433e532b2e4f9f404082622a68836b44a5c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd5edad2d974953271a580c9ee0ff86f3aab18c4bab7b78eb2097f4e857c38a3a420300006a4730440220477b3af1de23bcfa22b8b48ece8b47613c9db4eee2eca47c3771ea773f6cbc5802201cdf6069a3705e4c9fc46a288ffed0a2012c68452e556dc3f8477f895b24050c01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffaa202ca8a383e8d34aaf0bd244956c10cac0979b19ac5fad1d64118d56f99d025f0300006a47304402202d80ba804398e070976247ce6068e3427bafc19cbbf3018407de5ed19e79613e0220321cbefc9d962d74dc72b9c7f76f136d53a6b240a0e2d0fc989873e94af31be501210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffd84c3d5ef70b9d92d63f2bae5702b1d635f4d4ed2f087d4d7e7d202f80b3c030110300006a47304402205ad7e9dbb2ce679c9d5419ed30e59fbebbf64757c6655377194bdcb6397edf4e0220370993a1fe279f8412b245b61369d687d1c1675403d6b1696eea2a21c0efdd3801210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff129ebb2d9208da9ce0c78ca8a07c52eed5cfd61f7a50099ad2150b51208e7281570300006b483045022100cf6f9e8ee16fd5fe0c53a740cd3ec2270473117880a700fcac6f572b4a96e30a02203834dacc34e6da6a5234c3ea3c6a7dda499041cf211b30853bed0832331a76c701210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffbb4db43d85e71b172128067e54f35e48ab9ee5494bea4c8a1398063f67faa9525d0300006a473044022016c01e417917b28c2cd606885a8049a910e0408fcc9b2deb3ee6ba830dca919502201816b4a0f775e917242f0e0b560ec75c6e5f988f30a4d4ee39bbe49247142ab001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5abfb069b3c6fc470622da512ae525abd69e3835d6a1e8780b0b1fb065929c197d0200006a473044022070d0596c48704680e9e299d2c125166abd78d3b3561a920c1d4c04e55611154802207d04254037a128c99edd350186d9179d05edf4b6c6221f2a575d6d0a1fe414a001210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffcf7572bc1989c5f821850efb400332fc2e67742ef36b958eaab5d8eb44857f57440200006a4730440220567984c72f06e1589c8b001278abd4cb7ceb0531a027cacbba8d9c13c29b860902203b67d6278babad759c7c375fd531797536f57ad1a417162da76e35d45297449a01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffa88213e8f25acf4aaf971b2eba6b193dc7b7782396760afe800a485c5c9f434d5d03000069463043021f359ab453d155bd845374accdec604375fa7b5b447045b0cf8fe72d6e3244ee02203404163db18eb6fbcaee36083955e82844826993909695b42899ab2489bed3c901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff8b280c1eef5e4a7a1f35659ab8286cf08cbbdd2ebbd85e915f2e758395c75dba1d0300006b483045022100f8c8fb9177ed1b60411ab78b7932d7e91dcf2eee123cf8357f7ae19bc5f8631902207f6e3265975d27dac152269d33edaecf3eb59022c82a81bbd34cb4bdf08aa0b501210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff232d11f2069e4126f219c1ce420a6bc2aaf0dba75b6f4ae37e797a918f3b79195a03000069463043021f628e7d7053db83faa2dcf4d4b7a1f853e6d408574fa4e73fe6fd1a6b6524c902204cb5be96ae110903e575651784a9a19485cc0968fea60ceaa5e18233e011221601210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff7e1e9fe9c003eb730d0f1c26f9b283aea6d25e9b28c56fdb74beeaffa4a539b85c0300006a4730440220435b4d341ce941cea581881906c0e47aeca6eb249082ab445344843e35aa5f2902204709b9a3458f9d89edbc32126e47700fb55438ebf47d428174be0170e7579f7901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff5c85d30226347d07904bfcb1ff629f2ff356d2fa3f33f4fc28b298468dc8182aaa0300006a473044022027606d493dda59565a8f740eeb3661a749fbfaeeae2aed7c03fb39d132d9830702207690a69f8ae57f89fe626ccadfbd789b47ec5b1a5d1f3effa7b8a38ddbfd2dd801210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffea0d8ed572ef48e4ae13c0d2e7f7a00a18adbb7d0e1c0d09722810fcd5fb2883420300006a473044022064277ef21a3ee2f1897a1f011a2796b6969079d03663ebd489f317a9a52377e30220500be126faa07b22fb9f261dd4165e960e434e7e41c2a9444c6baf9bc383ee6b01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffff1a83a5a48d0c830cf066f9b86433800b745d6ecf9fbaa529017786477627dde5c0300006a47304402205344d482e5a6bbb1e1e61a7d024a123c979109e7e1955c21599619374ea443ed02205f58c0f807d34a792d39bb3cb12a87b3d05027c6607adbef236f702f9a4027d201210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff72f9de691690e7910594aa1009c54870028e8b126fafe21f246bf7b7d561d00f1a0400006a4730440220774f9e395edd0f46761ea139c7fe0e6e368684c9df1e83632b07ddcfd9cbad7c022015062a4896fae0e9ad3df4a1cefe2e39665fec157b9b4797c56652e0b7d0f96301210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff22352dc0c646180da0d27b122238f320aa22cd2db8d53534d0c73d012c490a969e0300006b483045022100837b2b167ab917568815afe461c496a2a9b4cf4b92b597bea1a38b1e1e0fac9102206eb02df965e94a481cd005dd813491d236374af0436b45bd2659e76218cff57301210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dfffffffff41a82479dceeab4872894480c012598574b21cc302cde6f19fb9a2c806b10fb5e0300006b483045022100c8ccea9ca78728570e874c7abd552e469ac65b9ce66abf62d059583ebc054c0002207ecb3e881b737345c3e7092b43704a083883494df2eaaa4f70c0f8e4dd61de4901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff0afc96d0ecf027b0fd932fa5b4b63e01b73f22cb849b731305bca4d264ae82df1e0200006a47304402205619388bcdf01667eb7ae3136820245898f196be1f93d3c16a625ce3033fb2b102204fcb912ee37651c84f79af0fe66484f1f17e94471551025ca0adf18dd7e5d31d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff2a47295a16b1d1866d881658409d17f8dd12af546f6443f4956b3fdfa4d14b18c70300006a473044022051e9fc89f54ca5d81882ac399ae730c84dda6f2f7c57cde67460213680d21c3202202b03a25c1ccf36efaa5886448203fd192eb4d010d8b7209985f981b36b3e491901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffe341f301b29cbfddf0857ce61db3e1a2f3cc1e9094e37a232899259154f32b87620300006a473044022074f4ee8aabb21a1606a1e0304977fd7b57221a68c0d95f315e6671a1da4e40de02207fe1e5602f4fb86628770c1d4f312ea5cff1115f5436d314ab781990ca1b411d01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff4735791581db86406578153658940a1317dc5d32ff0a58acba17f7139d229d35de0300006b483045022100d295018839b4cb4ea88a4998fd6ffd3b54d51e3262eefb203020a32617c385440220354f29656b1aaebd3eabf958827458e5daf34c26ba3e07607d3962558cbe5d9901210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffffddfd971bd13a03ce4fbd8a56101ccb7ce18003b262afb0be455e2b9cb8f79536900200006b483045022100ff542d73257b2939b1b0dbbd9c680dedbecba96686d42121248f9252a32ba96f02201fc88bfdd7bb6cc8e9475113f68be60604caa0dec9796c393cfc2248a01815ab01210338e408f400e0a9d6ccb7feceae5c509334548e8c62779d06c20fb7e41148c27dffffffff01a91fc1030000000017a914effeae9ace936de8285685878c1e4db027c293c48700000000'
    # Transaction with errors from testnet

    rt = '01000000013420a0a70bf81cdb4afe531b00fa8fa87ad4c11715df44c624c12816d61e5305010000006b483045022100911c1fe6ff2fe7d6df5070e56b5ada1cb5d8b90200087352fd2b76616e75a06602203b915066d24c0d8393c166d58f7e4b642ecff8e966a52bd6cc14c6f231ccd45c012103f467003ac3c4230d4119d82cc73f329fc6405c65655322c2e27b4f3dd0481616feffffff02ba910000000000001600140c80795fe9dc1f7e902407168962b560c9f7c2f583d88c28000000001976a91488feddfdfb256fa7c077cbc09332d2253d76c83088ac00000000'
    t = Transaction.import_raw(rc)
    pprint(t.get())


    # Test all transactions in latest testnet block with bitcoind client
    # bdc = BitcoindClient(user='bitcoinrpc', password='E0K2ySVA7Vz2PUqhEjqEtwnV9w2w7ci4lyneRco0flmE',
    #                      server='80.127.136.50', port=8332)
    #
    # print("\n=== SERVERINFO ===")
    # blockhash = bdc.proxy.getbestblockhash()
    # bestblock = bdc.proxy.getblock(blockhash)
    # print('... %d transactions found' % len(bestblock['tx']))
    # for txid in bestblock['tx']:
    #     print("=== DESERIALIZE TXID %s" % txid)
    #     try:
    #         rt = bdc.getrawtransaction(txid)
    #     except:
    #         pass
    #     print("raw %s" % rt)
    #     t = Transaction.import_raw(rt)
    #     pprint(t.get())
    #
    # print("===   D O N E   ===")
    #
    # newtxs = bdc.proxy.getrawmempool()
    # print(newtxs)
    # for txid in newtxs:
    #     print("=== DESERIALIZE TXID %s" % txid)
    #     rt = bdc.getrawtransaction(txid)
    #     print("raw %s" % rt)
    #     t = Transaction.import_raw(rt)
    #     pprint(t.get())
    #
    # print("===   %d verified   ===" % len(newtxs))
    # print("===   D O N E   ===")
